# Terraria .PLR file (Player)

> NOTE: This is only for `.plr` files generated in Terraria PC 1.4.3.6.

Terraria players are stored in `.plr` files, usually located in a "Players" folder in the game's save directory. They contain nearly everything about a player, including inventory, looks, buffs, and certain flags. The only thing that isn't saved in the file are world-specific maps, which are instead stored in a folder based on the player's name.

> • For Windows, the save directory is `%UserProfile%\Documents\My Games\Terraria\Players`  
> • For Linux, the save directory is `~/.local/share/Terraria/Players`

`.plr` files are normally encrypted in AES-128-CBC, the key (and IV) being `68-00-33-00-79-00-5F-00-67-00-55-00-79-00-5A-00` (or `h3y_gUyZ` in little-endian unicode)  
The key is also available in the root of this repository as `key.bin`

## Player Values [0x00..0x??]

> NOTE: The values seem to be in little-endian from testing, but it could just be a Windows thing.

| Value                               | Length                 | Type           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------------- | ---------------------- | -------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Player Version                      | 0x1                    | Byte           | Defines what version the player file is. 1.4.3.6 should be `F8`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Player Metadata                     | 0x17 (23)              | Byte Array     | Not sure what the metadata contains yet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Player Name                         | *Varies*               | String         | The first byte defines how long the string is. The next X bytes (defined in the length) store the string in UTF-8. (max string length is 20, so the Player Name could take up a max of 21 bytes)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Difficulty                          | 0x1                    | Byte           | The difficulty the player is set as. 0 is Classic, 1 is Expert, 2 is Master, and 3 is Journey.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Play Time Ticks                     | 0x8                    | Long           | The character's play time in ticks `(HINT: 1 millisecond = 10000 ticks)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Hair                                | 0x4                    | Int            | Defines the player's hairstyle ID (zero-based). See all hairstyles and IDs [here](https://terraria.wiki.gg/wiki/Hairstyles).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Hair Dye                            | 0x1                    | Byte           | Defines the player's hair dye ID (zero-based). See all hair dyes [here](https://terraria.wiki.gg/wiki/Hair_Dyes#Types).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Accessory Visibility                | 0x1                    | BitsByte       | Each bit defines whether or not an accessory is visible. `0` = Visible / `1` = Hidden<br>`Bit 0` - Accessory 1<br>`Bit 1` - Accessory 2<br>`Bit 2` - Accessory 3<br>`Bit 3` - Accessory 4<br>`Bit 4` - Accessory 5<br>`Bit 5` - Accessory 6 [Expert/Master Mode only]<br>`Bit 6` - Accessory 7 [Master Mode only]<br>`Bit 7` - Unknown                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Accessory Visibility #2             | 0x1                    | BitsByte       | Continuation of the previous byte. `0` = Visible / `1` = Hidden<br>`Bit 0` - Unknown<br>`Bit 1` - Unknown<br>`Bits 2-7` - Unused                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Miscellaneous Visibility            | 0x1                    | BitsByte       | Each bit defines whether or not a miscellaneous accessory is visible. Only the first two bits are used. `0` = Visible / `1` = Hidden<br>`Bit 0` - Pet<br>`Bit 1` - Light Pet<br>`Bit 2-7` - Unused                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Clothes/Gender                      | 0x1                    | Byte           | Defines the character's clothing and gender selection. Values 0-4 are male, and 5-9 are female.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Current Health                      | 0x4                    | Int            | How much health the player currently has.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Max Health                          | 0x4                    | Int            | The maximum amount of health the player has. Increases with Life Crystals or Life Fruit.<br>`(Hard-capped at 500.)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Current Mana                        | 0x4                    | Int            | How much mana the player currently has.<br>`(Hard-capped at 400.)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Max Mana                            | 0x4                    | Int            | The maximum amount of mana the player has. Increases with Mana Crystals.<br>`(Hard-capped at 200. Buffs that increase maximum mana don't get stored here, so the current mana could be higher than the max mana.)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Has Extra Accessory                 | 0x1                    | Boolean        | If a player has used a Demon Heart, increasing their maximum accessory slots by 1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Unlocked Biome Torches              | 0x1                    | Boolean        | If a player has unlocked biome torches by surviving the Torch God event.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Is Using Biome Torches              | 0x1                    | Boolean        | If a player has biome torches toggled or not.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Can use DD2 Sentries                | 0x1                    | Boolean        | If the player is allowed to use DD2 sentries outside of the event, set to true when the event has been successfully cleared.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Tax Money                           | 0x4                    | RGB Byte Array | The amount of money the Tax Collector has saved up for the player (in copper coins).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| Hair Colour                         | 0x3                    | RGB Byte Array | Colour of the player's hair, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Skin Colour                         | 0x3                    | RGB Byte Array | Colour of the player's skin, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Eye Colour                          | 0x3                    | RGB Byte Array | Colour of the player's eyes, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Shirt Colour                        | 0x3                    | RGB Byte Array | Colour of the player's shirt, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Undershirt Colour                   | 0x3                    | RGB Byte Array | Colour of the player's undershirt, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Pants Colour                        | 0x3                    | RGB Byte Array | Colour of the player's pants, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Shoe Colour                         | 0x3                    | RGB Byte Array | Colour of the player's shoes, 3 bytes make up an RGB value.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Armor + Accessories                 | 0x64 (100)             | Struct Array   | There are 20 entries in total, the first 3 being the player's armour, the next 7 being the player's accessories, the next 3 being the player's social armour, and the last 7 being the player's social accessories. Each entry takes up 5 bytes.<br><u>For each entry:</u><br>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Armor/Accessories Dyes              | 0x32 (50)              | Struct Array   | There are 10 dyes in total, the first 3 being the player's armour dyes, and the last 7 being the player's accessory dyes. Each dye takes up 5 bytes.<br><u>For each dye:</u><br>`Item ID (0x4)` - The dye item ID. See all dyes [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list). (Item IDs are shown below the dyes, if an ID isn't shown, then click on the name of the dye and it should be shown there)<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Inventory                           | 0x244 (580)            | Struct Array   | Items in the inventory. There are 58 items, the first 50 being the player's inventory, the next 4 being the player's coins, and the last 4 being the player's ammo. Each item takes up 10 bytes.<br><u>For each item:</u><br>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br>`Item Amount (0x4)` - The amount of items in the stack.<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).<br>`Item Favourited (0x1)(bool)` - Defines if the item is favourited or not.                                                                                                                                                                                                                                                                                                                                                      |
| Misc Equips & Misc Dyes             | 0x32 (50)              | Struct Array   | Currently unknown.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Piggy Bank Inventory                | 0x168 (360)            | Struct Array   | Items in the player's piggy bank. There are 40 total items, each item taking up 9 bytes.<br><u>For each item:</u><br>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br>`Item Amount (0x4)` - The amount of items in the stack.<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| Safe Inventory                      | 0x168 (360)            | Struct Array   | Items in the player's safe. There are 40 total items, each item taking up 9 bytes.<br><u>For each item:</u><br>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br>`Item Amount (0x4)` - The amount of items in the stack.<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| Defender's Forge Inventory          | 0x168 (360)            | Struct Array   | Items in the player's defender's forge. There are 40 total items, each item taking up 9 bytes.<br><u>For each item:</u><br>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br>`Item Amount (0x4)` - The amount of items in the stack.<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Void Bag Inventory                  | 0x168 (360)            | Struct Array   | Items in the player's void bag. There are 40 total items, each item taking up 9 bytes.<br><u>For each item:</u><br>`Item ID (0x4)` - The item ID. See all item IDs [here](https://terraria.wiki.gg/wiki/Item_IDs#ID_list).<br>`Item Amount (0x4)` - The amount of items in the stack.<br>`Item Modifier (0x1)` - The item prefix/modifier. See all modifier IDs [here](https://terraria.wiki.gg/wiki/Prefix_IDs).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Void Vault Info                     | 0x1                    | BitsByte       | Defined in the source code as `voidVaultInfo`, but I'm not sure what it does. It does seem to define booleans as bits, though.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Buffs                               | 0xB0 (176)             | Struct Array   | The player's current buffs. There are 22 total buffs, each buff taking up 8 bytes.<br><u>For each buff:</u><br>`Buff ID (0x4)` - The buff ID. See all buff IDs [here](https://terraria.wiki.gg/wiki/Buff_IDs).<br>`Buff Time (0x4)` - The buff's duration in in-game ticks (60 ticks per second).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| Per-World Spawn Points              | *Varies*<br>[Min: 0x4] | Struct Array   | Can contain up to 200 spawn points. If a spawn point's first value is -1 (`FF FF FF FF`), then there are no more spawn points to parse.<br><u>For each spawn point:</u><br>`Spawn X (0x4)` - The spawn point's X coordinate.<br>`Spawn Y (0x4)` - The spawn point's Y coordinate.<br>`World ID (0x4)` - The ID of the world the spawn point is located in.<br>`World Name (String)` - The name of the world the spawn point is located in. See `Player Name` for how strings are stored.                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Hotbar Locked                       | 0x1                    | Boolean        | Defines whether or not the hotbar is locked.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| "Hide Info"                         | 0xD (13)               | Byte Array     | Unknown currently.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Total Angler Quests Finished        | 0x4                    | Int            | Total amount of Angler quests the player has done.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| D-Pad Radial Bindings               | 0x10 (16)              | Byte Array     | Unknown currently.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Building Options                    | 0x30 (48)              | Int Array      | Defines 12 ints of useful building options. Most don't seem to be used, oddly enough.<br>`Int 0 (bool)` - If Ruler is disabled<br>`Int 1 (bool)` - If Mechanical Ruler is disabled<br>`Int 2 (bool)` - If Paint Sprayer is disabled<br>`Int 3 (bool)` - If Presserator is disabled<br>`Int 4 (byte)` - Red Wire Visibility (`0` = Bright / `1` = Classic / `2` = Faded)<br>`Int 5 (byte)` - Blue Wire Visibility (`0` = Bright / `1` = Classic / `2` = Faded)<br>`Int 6 (byte)` - Green Wire Visibility (`0` = Bright / `1` = Classic / `2` = Faded)<br>`Int 7 (byte)` - Yellow Wire Visibility (`0` = Bright / `1` = Classic / `2` = Faded)<br>`Int 8 (bool)` - Mechanical Display (`0` = Forced / `1` = Normal)<br>`Int 9 (byte)` - Actuator Visibility (`0` = Bright / `1` = Classic / `2` = Faded)<br>`Int 10 (bool)` - If Block Swap is disabled<br>`Int 11 (bool)` - If Biome Torches is disabled (this directly modifies `Is Using Biome Torches`)<br> |
| Has Gotten Tavernkeep's Free Sample | 0x4                    | Int            | If the player has gotten the initial 5 Defender Medals from selecting the 'Eternia Crystal' option for the first time.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Dead                                | 0x1                    | Boolean        | If the player is currently dead. If `true`, then the value below is used, otherwise it is not included in the player file.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Death Respawn Timer (optional)      | 0x4                    | Int            | Only used if Dead is set to `true`. Defines how long until the player respawns in in-game ticks (60 ticks per second).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Player Last Saved Timestamp         | 0x8                    | Long           | UTC timestamp in ticks of when the player was last saved. `(HINT: 1 millisecond = 10000 ticks)`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Golf Score                          | 0x4                    | Int            | Total golf score the player has accumulated. This impacts the Golfer's interaction quotes and how many items he sells.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| `creativeTracker`                   | *Varies*               | Unknown        | Unknown currently. Could be relating to Journey Mode stuff, since Journey Mode is referred to as "Creative" in the source code.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| `TemporaryItemSlotContents`         | *Varies*               | Unknown        | Unknown currently.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `CreativePowerManager`              | *Varies*               | Unknown        | Unknown currently. Could be relating to Journey Mode stuff, since Journey Mode is referred to as "Creative" in the source code.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |


